{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { ShopParams } from '../shared/Models/shopParams';\nexport let ShopComponent = class ShopComponent {\n  constructor(shopService) {\n    this.shopService = shopService;\n    this.products = [];\n    this.brands = [];\n    this.types = [];\n    this.shopParams = new ShopParams();\n    this.sortOptions = [{\n      name: 'Alphabetical',\n      value: 'name'\n    }, {\n      name: 'Price: Low to high',\n      value: 'priceAsc'\n    }, {\n      name: 'Price : High to low',\n      value: 'priceDesc'\n    }];\n  }\n  ngOnInit() {\n    this.getProducts();\n    this.getBrands();\n    this.getTypes();\n  }\n  getProducts() {\n    this.shopService.getProducts(this.shopParams).subscribe({\n      next: response => this.products = response.data,\n      error: error => console.log(error)\n    });\n  }\n  getBrands() {\n    this.shopService.getBrands().subscribe({\n      next: response => this.brands = [{\n        id: 0,\n        name: 'All'\n      }, ...response],\n      error: error => console.log(error)\n    });\n  }\n  getTypes() {\n    this.shopService.getTypes().subscribe({\n      next: response => this.types = [{\n        id: 0,\n        name: 'All'\n      }, ...response],\n      error: error => console.log(error)\n    });\n  }\n  onBrandSelected(brandId) {\n    this.shopParams.brandId = brandId;\n    this.getProducts();\n  }\n  onTypeSelected(typeId) {\n    this.shopParams.typeId = typeId;\n    this.getProducts();\n  }\n  onSortSelected(event) {\n    this.shopParams.sort = event.target.value;\n    this.getProducts();\n  }\n};\nShopComponent = __decorate([Component({\n  selector: 'app-shop',\n  templateUrl: './shop.component.html',\n  styleUrls: ['./shop.component.css']\n})], ShopComponent);","map":{"version":3,"names":["Component","ShopParams","ShopComponent","constructor","shopService","products","brands","types","shopParams","sortOptions","name","value","ngOnInit","getProducts","getBrands","getTypes","subscribe","next","response","data","error","console","log","id","onBrandSelected","brandId","onTypeSelected","typeId","onSortSelected","event","sort","target","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\My Project\\Store\\src\\app\\shop\\shop.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Product } from '../shared/Models/product';\nimport { ShopService } from './shop.service';\nimport { Brand } from '../shared/Models/brand';\nimport { Type } from '../shared/Models/type';\nimport { ShopParams } from '../shared/Models/shopParams';\n\n@Component({\n  selector: 'app-shop',\n  templateUrl: './shop.component.html',\n  styleUrls: ['./shop.component.css']\n})\nexport class ShopComponent implements OnInit {\n  products: Product[]=[];\n  brands: Brand[]=[];\n  types:Type[]=[];\n  shopParams =new ShopParams();\n  sortOptions=[\n    {name:'Alphabetical', value:'name'},\n    {name:'Price: Low to high', value:'priceAsc'},\n    {name:'Price : High to low', value:'priceDesc'},\n\n\n  ]\n\n  constructor(private shopService: ShopService){}\n\n  ngOnInit(): void {\n       this.getProducts();\n       this.getBrands();\n       this.getTypes();\n\n  }\n  getProducts(){\n    this.shopService.getProducts(this.shopParams).subscribe({\n      next:response=>this.products = response.data,\n      error:error => console.log(error)\n    })\n  }\n  getBrands(){\n    this.shopService.getBrands().subscribe({\n      next:response=>this.brands = [{id:0,name:'All'},...response],\n      error:error => console.log(error)\n    })\n  }\n  getTypes(){\n    this.shopService.getTypes().subscribe({\n      next:response=>this.types = [{id:0,name:'All'},...response],\n      error:error => console.log(error)\n    })\n  }\n\n  onBrandSelected(brandId:number){\n    this.shopParams.brandId=brandId;\n    this.getProducts();\n  }\n  onTypeSelected(typeId:number){\n    this.shopParams.typeId=typeId;\n    this.getProducts();\n  }\n  onSortSelected(event:any){\n    this.shopParams.sort=event.target.value;\n    this.getProducts();\n  }\n\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAKjD,SAASC,UAAU,QAAQ,6BAA6B;AAOjD,WAAMC,aAAa,GAAnB,MAAMA,aAAa;EAaxBC,YAAoBC,WAAwB;IAAxB,KAAAA,WAAW,GAAXA,WAAW;IAZ/B,KAAAC,QAAQ,GAAY,EAAE;IACtB,KAAAC,MAAM,GAAU,EAAE;IAClB,KAAAC,KAAK,GAAQ,EAAE;IACf,KAAAC,UAAU,GAAE,IAAIP,UAAU,EAAE;IAC5B,KAAAQ,WAAW,GAAC,CACV;MAACC,IAAI,EAAC,cAAc;MAAEC,KAAK,EAAC;IAAM,CAAC,EACnC;MAACD,IAAI,EAAC,oBAAoB;MAAEC,KAAK,EAAC;IAAU,CAAC,EAC7C;MAACD,IAAI,EAAC,qBAAqB;MAAEC,KAAK,EAAC;IAAW,CAAC,CAGhD;EAE6C;EAE9CC,QAAQA,CAAA;IACH,IAAI,CAACC,WAAW,EAAE;IAClB,IAAI,CAACC,SAAS,EAAE;IAChB,IAAI,CAACC,QAAQ,EAAE;EAEpB;EACAF,WAAWA,CAAA;IACT,IAAI,CAACT,WAAW,CAACS,WAAW,CAAC,IAAI,CAACL,UAAU,CAAC,CAACQ,SAAS,CAAC;MACtDC,IAAI,EAACC,QAAQ,IAAE,IAAI,CAACb,QAAQ,GAAGa,QAAQ,CAACC,IAAI;MAC5CC,KAAK,EAACA,KAAK,IAAIC,OAAO,CAACC,GAAG,CAACF,KAAK;KACjC,CAAC;EACJ;EACAN,SAASA,CAAA;IACP,IAAI,CAACV,WAAW,CAACU,SAAS,EAAE,CAACE,SAAS,CAAC;MACrCC,IAAI,EAACC,QAAQ,IAAE,IAAI,CAACZ,MAAM,GAAG,CAAC;QAACiB,EAAE,EAAC,CAAC;QAACb,IAAI,EAAC;MAAK,CAAC,EAAC,GAAGQ,QAAQ,CAAC;MAC5DE,KAAK,EAACA,KAAK,IAAIC,OAAO,CAACC,GAAG,CAACF,KAAK;KACjC,CAAC;EACJ;EACAL,QAAQA,CAAA;IACN,IAAI,CAACX,WAAW,CAACW,QAAQ,EAAE,CAACC,SAAS,CAAC;MACpCC,IAAI,EAACC,QAAQ,IAAE,IAAI,CAACX,KAAK,GAAG,CAAC;QAACgB,EAAE,EAAC,CAAC;QAACb,IAAI,EAAC;MAAK,CAAC,EAAC,GAAGQ,QAAQ,CAAC;MAC3DE,KAAK,EAACA,KAAK,IAAIC,OAAO,CAACC,GAAG,CAACF,KAAK;KACjC,CAAC;EACJ;EAEAI,eAAeA,CAACC,OAAc;IAC5B,IAAI,CAACjB,UAAU,CAACiB,OAAO,GAACA,OAAO;IAC/B,IAAI,CAACZ,WAAW,EAAE;EACpB;EACAa,cAAcA,CAACC,MAAa;IAC1B,IAAI,CAACnB,UAAU,CAACmB,MAAM,GAACA,MAAM;IAC7B,IAAI,CAACd,WAAW,EAAE;EACpB;EACAe,cAAcA,CAACC,KAAS;IACtB,IAAI,CAACrB,UAAU,CAACsB,IAAI,GAACD,KAAK,CAACE,MAAM,CAACpB,KAAK;IACvC,IAAI,CAACE,WAAW,EAAE;EACpB;CAED;AArDYX,aAAa,GAAA8B,UAAA,EALzBhC,SAAS,CAAC;EACTiC,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,sBAAsB;CACnC,CAAC,C,EACWjC,aAAa,CAqDzB"},"metadata":{},"sourceType":"module","externalDependencies":[]}