{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let ShopComponent = class ShopComponent {\n  constructor(shopService) {\n    this.shopService = shopService;\n    this.products = [];\n    this.brands = [];\n    this.types = [];\n    this.brandIdSelected = 0;\n    this.typeIdSelected = 0;\n    this.sortSelected = 'name';\n    this.sortOptions = [{\n      name: 'Alphabetical',\n      value: 'name'\n    }, {\n      name: 'Price: Low to high',\n      value: 'priceAsc'\n    }, {\n      name: 'Price : High to low',\n      value: 'priceDesc'\n    }];\n  }\n  ngOnInit() {\n    this.getProducts();\n    this.getBrands();\n    this.getTypes();\n  }\n  getProducts() {\n    this.shopService.getProducts(this.brandIdSelected, this.typeIdSelected, this.sortSelected).subscribe({\n      next: response => this.products = response.data,\n      error: error => console.log(error)\n    });\n  }\n  getBrands() {\n    this.shopService.getBrands().subscribe({\n      next: response => this.brands = [{\n        id: 0,\n        name: 'All'\n      }, ...response],\n      error: error => console.log(error)\n    });\n  }\n  getTypes() {\n    this.shopService.getTypes().subscribe({\n      next: response => this.types = [{\n        id: 0,\n        name: 'All'\n      }, ...response],\n      error: error => console.log(error)\n    });\n  }\n  onBrandSelected(brandId) {\n    this.brandIdSelected = brandId;\n    this.getProducts();\n  }\n  onTypeSelected(typeId) {\n    this.typeIdSelected = typeId;\n    this.getProducts();\n  }\n  onSortSelected(event) {\n    this.sortSelected = event.target.value;\n    this.getProducts();\n  }\n};\nShopComponent = __decorate([Component({\n  selector: 'app-shop',\n  templateUrl: './shop.component.html',\n  styleUrls: ['./shop.component.css']\n})], ShopComponent);","map":{"version":3,"names":["Component","ShopComponent","constructor","shopService","products","brands","types","brandIdSelected","typeIdSelected","sortSelected","sortOptions","name","value","ngOnInit","getProducts","getBrands","getTypes","subscribe","next","response","data","error","console","log","id","onBrandSelected","brandId","onTypeSelected","typeId","onSortSelected","event","target","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\My Project\\Store\\src\\app\\shop\\shop.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Product } from '../shared/Models/product';\nimport { ShopService } from './shop.service';\nimport { Brand } from '../shared/Models/brand';\nimport { Type } from '../shared/Models/type';\n\n@Component({\n  selector: 'app-shop',\n  templateUrl: './shop.component.html',\n  styleUrls: ['./shop.component.css']\n})\nexport class ShopComponent implements OnInit {\n  products: Product[]=[];\n  brands: Brand[]=[];\n  types:Type[]=[];\n  brandIdSelected=0;\n  typeIdSelected=0;\n  sortSelected='name';\n  sortOptions=[\n    {name:'Alphabetical', value:'name'},\n    {name:'Price: Low to high', value:'priceAsc'},\n    {name:'Price : High to low', value:'priceDesc'},\n\n\n  ]\n\n  constructor(private shopService: ShopService){}\n\n  ngOnInit(): void {\n       this.getProducts();\n       this.getBrands();\n       this.getTypes();\n\n  }\n  getProducts(){\n    this.shopService.getProducts(this.brandIdSelected,this.typeIdSelected,this.sortSelected).subscribe({\n      next:response=>this.products = response.data,\n      error:error => console.log(error)\n    })\n  }\n  getBrands(){\n    this.shopService.getBrands().subscribe({\n      next:response=>this.brands = [{id:0,name:'All'},...response],\n      error:error => console.log(error)\n    })\n  }\n  getTypes(){\n    this.shopService.getTypes().subscribe({\n      next:response=>this.types = [{id:0,name:'All'},...response],\n      error:error => console.log(error)\n    })\n  }\n\n  onBrandSelected(brandId:number){\n    this.brandIdSelected=brandId;\n    this.getProducts();\n  }\n  onTypeSelected(typeId:number){\n    this.typeIdSelected=typeId;\n    this.getProducts();\n  }\n  onSortSelected(event:any){\n    this.sortSelected=event.target.value;\n    this.getProducts();\n  }\n\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAW1C,WAAMC,aAAa,GAAnB,MAAMA,aAAa;EAexBC,YAAoBC,WAAwB;IAAxB,KAAAA,WAAW,GAAXA,WAAW;IAd/B,KAAAC,QAAQ,GAAY,EAAE;IACtB,KAAAC,MAAM,GAAU,EAAE;IAClB,KAAAC,KAAK,GAAQ,EAAE;IACf,KAAAC,eAAe,GAAC,CAAC;IACjB,KAAAC,cAAc,GAAC,CAAC;IAChB,KAAAC,YAAY,GAAC,MAAM;IACnB,KAAAC,WAAW,GAAC,CACV;MAACC,IAAI,EAAC,cAAc;MAAEC,KAAK,EAAC;IAAM,CAAC,EACnC;MAACD,IAAI,EAAC,oBAAoB;MAAEC,KAAK,EAAC;IAAU,CAAC,EAC7C;MAACD,IAAI,EAAC,qBAAqB;MAAEC,KAAK,EAAC;IAAW,CAAC,CAGhD;EAE6C;EAE9CC,QAAQA,CAAA;IACH,IAAI,CAACC,WAAW,EAAE;IAClB,IAAI,CAACC,SAAS,EAAE;IAChB,IAAI,CAACC,QAAQ,EAAE;EAEpB;EACAF,WAAWA,CAAA;IACT,IAAI,CAACX,WAAW,CAACW,WAAW,CAAC,IAAI,CAACP,eAAe,EAAC,IAAI,CAACC,cAAc,EAAC,IAAI,CAACC,YAAY,CAAC,CAACQ,SAAS,CAAC;MACjGC,IAAI,EAACC,QAAQ,IAAE,IAAI,CAACf,QAAQ,GAAGe,QAAQ,CAACC,IAAI;MAC5CC,KAAK,EAACA,KAAK,IAAIC,OAAO,CAACC,GAAG,CAACF,KAAK;KACjC,CAAC;EACJ;EACAN,SAASA,CAAA;IACP,IAAI,CAACZ,WAAW,CAACY,SAAS,EAAE,CAACE,SAAS,CAAC;MACrCC,IAAI,EAACC,QAAQ,IAAE,IAAI,CAACd,MAAM,GAAG,CAAC;QAACmB,EAAE,EAAC,CAAC;QAACb,IAAI,EAAC;MAAK,CAAC,EAAC,GAAGQ,QAAQ,CAAC;MAC5DE,KAAK,EAACA,KAAK,IAAIC,OAAO,CAACC,GAAG,CAACF,KAAK;KACjC,CAAC;EACJ;EACAL,QAAQA,CAAA;IACN,IAAI,CAACb,WAAW,CAACa,QAAQ,EAAE,CAACC,SAAS,CAAC;MACpCC,IAAI,EAACC,QAAQ,IAAE,IAAI,CAACb,KAAK,GAAG,CAAC;QAACkB,EAAE,EAAC,CAAC;QAACb,IAAI,EAAC;MAAK,CAAC,EAAC,GAAGQ,QAAQ,CAAC;MAC3DE,KAAK,EAACA,KAAK,IAAIC,OAAO,CAACC,GAAG,CAACF,KAAK;KACjC,CAAC;EACJ;EAEAI,eAAeA,CAACC,OAAc;IAC5B,IAAI,CAACnB,eAAe,GAACmB,OAAO;IAC5B,IAAI,CAACZ,WAAW,EAAE;EACpB;EACAa,cAAcA,CAACC,MAAa;IAC1B,IAAI,CAACpB,cAAc,GAACoB,MAAM;IAC1B,IAAI,CAACd,WAAW,EAAE;EACpB;EACAe,cAAcA,CAACC,KAAS;IACtB,IAAI,CAACrB,YAAY,GAACqB,KAAK,CAACC,MAAM,CAACnB,KAAK;IACpC,IAAI,CAACE,WAAW,EAAE;EACpB;CAED;AAvDYb,aAAa,GAAA+B,UAAA,EALzBhC,SAAS,CAAC;EACTiC,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,sBAAsB;CACnC,CAAC,C,EACWlC,aAAa,CAuDzB"},"metadata":{},"sourceType":"module","externalDependencies":[]}