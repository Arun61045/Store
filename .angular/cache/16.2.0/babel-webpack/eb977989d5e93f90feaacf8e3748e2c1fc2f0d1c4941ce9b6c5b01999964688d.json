{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { ShopParams } from '../shared/Models/shopParams';\nexport let ShopComponent = class ShopComponent {\n  constructor(shopService) {\n    this.shopService = shopService;\n    this.products = [];\n    this.brands = [];\n    this.types = [];\n    this.shopParams = new ShopParams();\n    this.sortOptions = [{\n      name: 'Alphabetical',\n      value: 'name'\n    }, {\n      name: 'Price: Low to high',\n      value: 'priceAsc'\n    }, {\n      name: 'Price : High to low',\n      value: 'priceDesc'\n    }];\n    this.totalCount = 0;\n  }\n  ngOnInit() {\n    this.getProducts();\n    this.getBrands();\n    this.getTypes();\n  }\n  getProducts() {\n    this.shopService.getProducts(this.shopParams).subscribe({\n      next: response => {\n        this.products = response.data;\n        this.shopParams.pageNumber = response.pageIndex;\n        this.shopParams.pageSize = response.pageSize;\n        this.totalCount = response.count;\n      },\n      error: error => console.log(error)\n    });\n  }\n  getBrands() {\n    this.shopService.getBrands().subscribe({\n      next: response => this.brands = [{\n        id: 0,\n        name: 'All'\n      }, ...response],\n      error: error => console.log(error)\n    });\n  }\n  getTypes() {\n    this.shopService.getTypes().subscribe({\n      next: response => this.types = [{\n        id: 0,\n        name: 'All'\n      }, ...response],\n      error: error => console.log(error)\n    });\n  }\n  onBrandSelected(brandId) {\n    this.shopParams.brandId = brandId;\n    this.getProducts();\n  }\n  onTypeSelected(typeId) {\n    this.shopParams.typeId = typeId;\n    this.getProducts();\n  }\n  onSortSelected(event) {\n    this.shopParams.sort = event.target.value;\n    this.getProducts();\n  }\n  onPageChanged(event) {\n    if (this.shopParams.pageNumber !== event.page) {\n      this.shopParams.pageNumber = event.page;\n      this.getProducts();\n    }\n  }\n};\nShopComponent = __decorate([Component({\n  selector: 'app-shop',\n  templateUrl: './shop.component.html',\n  styleUrls: ['./shop.component.css']\n})], ShopComponent);","map":{"version":3,"names":["Component","ShopParams","ShopComponent","constructor","shopService","products","brands","types","shopParams","sortOptions","name","value","totalCount","ngOnInit","getProducts","getBrands","getTypes","subscribe","next","response","data","pageNumber","pageIndex","pageSize","count","error","console","log","id","onBrandSelected","brandId","onTypeSelected","typeId","onSortSelected","event","sort","target","onPageChanged","page","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\My Project\\Store\\src\\app\\shop\\shop.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Product } from '../shared/Models/product';\nimport { ShopService } from './shop.service';\nimport { Brand } from '../shared/Models/brand';\nimport { Type } from '../shared/Models/type';\nimport { ShopParams } from '../shared/Models/shopParams';\n\n@Component({\n  selector: 'app-shop',\n  templateUrl: './shop.component.html',\n  styleUrls: ['./shop.component.css']\n})\nexport class ShopComponent implements OnInit {\n  products: Product[]=[];\n  brands: Brand[]=[];\n  types:Type[]=[];\n  shopParams =new ShopParams();\n  sortOptions=[\n    {name:'Alphabetical', value:'name'},\n    {name:'Price: Low to high', value:'priceAsc'},\n    {name:'Price : High to low', value:'priceDesc'},\n\n\n  ];\n  totalCount=0;\n\n  constructor(private shopService: ShopService){}\n\n  ngOnInit(): void {\n       this.getProducts();\n       this.getBrands();\n       this.getTypes();\n\n  }\n  getProducts(){\n    this.shopService.getProducts(this.shopParams).subscribe({\n      next:response=>{\n        this.products = response.data;\n        this.shopParams.pageNumber=response.pageIndex;\n        this.shopParams.pageSize=response.pageSize;\n        this.totalCount=response.count;\n      },\n      error:error => console.log(error)\n    })\n  }\n  getBrands(){\n    this.shopService.getBrands().subscribe({\n      next:response=>this.brands = [{id:0,name:'All'},...response],\n      error:error => console.log(error)\n    })\n  }\n  getTypes(){\n    this.shopService.getTypes().subscribe({\n      next:response=>this.types = [{id:0,name:'All'},...response],\n      error:error => console.log(error)\n    })\n  }\n\n  onBrandSelected(brandId:number){\n    this.shopParams.brandId=brandId;\n    this.getProducts();\n  }\n  onTypeSelected(typeId:number){\n    this.shopParams.typeId=typeId;\n    this.getProducts();\n  }\n  onSortSelected(event:any){\n    this.shopParams.sort=event.target.value;\n    this.getProducts();\n  }\n\n  onPageChanged(event:any){\n    if(this.shopParams.pageNumber !== event.page){\n      this.shopParams.pageNumber=event.page;\n      this.getProducts();\n    }\n  }\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}